%!TEX root = ../thesis.tex
%*******************************************************************************
%****************************** Seventh Chapter ********************************
%*******************************************************************************
\graphicspath{{Chapter7/Figs/Vector/}{Chapter7/Figs/}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Conclusion
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
\chapter{Conclusion}
\section{Research}
\[\textit{How can a generic location-based price calculation system be implemented}\]
\[\textit{that is usable in every country?}\] \hfill

The four challenges manifested in the research questions that constructed this assignment have been answered in order to successfully implement the trip price calculation system. The best possible way of mapping conveyable locations to pricing rules in a system that integrates in the existing system architecture of taxiID, keeping the original rule types while improving the interpretability of the matching logic through the user interface, has been researched. Information available in the public domain has been used to answer empirical questions, from which proposals based on good arguments have been made, and working proof of concepts have been created, out of which some have been implemented, resulting in a system design that could be used for many other purposes in the software industry. Geometric datatypes such as Points, Polygons, Multipolygons and relevant predicates are supported by the the OpenGIS and GeoJSON specifications, which are capable of replacing the legacy location definitions. Shapes on a map can be interpreted universally, and intersections of geometry based locations are easy to understand. MongoDB and MySQL support these specifications. Overlapping location matches can be limited by user assigned priorities. The trip pricing system can be integrated as a microservice where the combination of NodeJS and MongoDB provide a scalable and well performing solution. The YourDriverApp portal is able to adopt the required views that retrieve Information from the microservice directly. Authentication and authorization is handled by the microservice via JSON Web Tokens. State is shared in the token payload, allowing the microservice to be decoupled from adjacent systems, avoiding additional verification network requests. When a passenger books a ride, the provided information that belongs to the ride is used to match departure, destination, timeframe, passenger count, vehicle types and additional settings of the user defined rule for the associated prices to apply. Fixed, dynamic, and threshold prices have been implemented using generated functors with default parameters for deterministic outcomes. The user is guided through different concepts during the process of constructing a pricing rule, using a Shneiderman's Mantra inspired hierarchy of components. Making use of preattentive attributes to reflect coherence within composite views that contain parts of the pricing rule. Granting responsibility to the user in relation to activating and sorting rules, stimulates the users understanding of the inner workings of the system. The workings that may always be verified by booking a ride in the booking app. To answer the main research question, aspects of a price calculation system can be abstracted in a way that they operate independently of country specific concepts, symbols and infrastructure. Visual representations of pricing rule criteria allow for international understanding and reasoning about the inner workings of the system.

\section{Results}
The trip pricing system has been implemented and is fully operational. This includes all the concepts discussed in this thesis. Debtors have been mentioned in this thesis, but the implementation has not been finalized.

\section{Limitations}
Some features have not been implemented. Debtors may require views similar to the apps views, and the matching logic should be modified to take debtors into account. It is not possible to define prices depending on the amount of passengers yet. It is not possible to add extra costs to the final price yet. These features have been defined in the backlog, but have not been implemented. The OpenStreetMap import function has been removed, which was destined to be a substitute for predefined location definitions. Because it is not available, developers will have to manually draw predefined locations so that they are available to users.

\section{Recommendations}
To further improve on the project, some modifications to the system must be undertaken. Forms and interactions in the portal should only mutate data with permission of the user. Actions in the apps detail page have an immediate effect in the current version of the portal. Adding or deleting thresholds and subrules in the pricing rules detail page also have an immediate effect. This should be gated behind the save button, to be consistent with the rest of the forms. Finally, it is recommended that the implemented authentication method is adopted in all future projects, and that the currently used token is replaced by the JSON Web Token.

\section{Further Research}
It should be possible to implement an OpenStreetMap import function that reduces the amount of indices of a polygon, so that performance drawbacks are eliminated.
